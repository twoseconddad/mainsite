/*!CK:431831717!*//*1438091766,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["vxDo3"]); }

__d("ComposerXAjaxEndpoint",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ADS_MEDIA_UPLOAD:"\/ajax\/ads\/create\/composerx\/attachment\/media\/upload\/",ADS_ATTACHMENT_STATUS:"\/ajax\/ads\/create\/composerx\/attachment\/status\/",MEDIA_UPLOAD:"\/ajax\/composerx\/attachment\/media\/upload\/",VIDEO_UPLOAD:"\/ajax\/composerx\/attachment\/video\/upload\/"};},null);
__d("ComposerXContextConfig",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={propertyNames:{actorID:"ACTOR_ID",postID:"POST_ID"},propertyValues:{ACTOR_ID:"actorID",POST_ID:"postID"}};},null);
__d("PrivacyRemindersLoggingTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"};},null);
__d("SuggestionConfig",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={GROUP_POST_COMPOSER:"grouppostcomposer",OG_SUGGESTION_BY_INPUT:"ogsuggestionbyinput",COMPOSER_ENTRY_BOOTSTRAP:"composerentrybootstrap",MTOUCH_COMPOSER_ENTRY_BOOTSTRAP:"mtouchcomposerentrybootstrap",MTOUCH_COMPOSER_LOAD_VERBS:"mtouchcomposerloadverbs"};},null);
__d("SuggestionUIPresentation",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={FLYOUT:1,TAGGER_BADGE:2,ADD_TAG:3,SEMI_INLINE:4,TOP_OF_VERBS:5};},null);
__d("ComposerXAttachmentBootstrap",["CSS","Form","Parent","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=[],m={bootstrap:function(n){m.load(i.byTag(n,'form'),n.getAttribute('data-endpoint'));},load:function(n,o,p){var q=new j(o).addQueryData({composerurihash:m.getURIHash(o)});g.conditionClass(n,"_fu",p);var r=i.byClass(n,"_2_4");g.removeClass(r,'async_saving');h.setDisabled(n,false);n.action=q.toString();h.bootstrap(n);},getURIHash:function(n){if(n==='initial')return 'initial';var o=l.indexOf(n);if(o!==-1){return o+'';}else{o=l.length;l[o]=n;return o+'';}}};e.exports=m;},null);
__d("ComposerXContext",["ComposerXContextConfig","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=function(k){return g.propertyNames[k];};function j(k){"use strict";this.$ComposerXContext0={};for(var l in k)this.setProperty(l,k[l]);}j.prototype.getProperty=function(k){"use strict";h(i(k));return this.$ComposerXContext0[k];};j.prototype.setProperty=function(k,l){"use strict";h(i(k));this.$ComposerXContext0[k]=l;return this;};j.PROPERTIES=g.propertyValues;e.exports=j;},null);
__d("ComposerXSessionIDInserter",["ComposerXSessionIDs","DOM","DOMQuery","Event","Parent","csx","cx","onEnclosingPageletDestroy"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={init:function(p){var q=j.listen(p,'submit',o._onSubmit);n(p,function(){q.remove();});},_onSubmit:function(p){o.insertSessionInput(p.getTarget());},insertSessionInput:function(p){var q=k.byClass(p,"_119");if(!q)return;var r=g.getSessionID(q.id);if(!r)return;var s=i.scry(p,"._5r_b")[0];if(!s){h.prependContent(p,g.createSessionIDInput(r));}else s.value=r;}};e.exports=o;},null);
__d("DynamicIconSelector",["Button","CSS","DOM","SelectorDeprecated"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={swapIcon:function(l){var m=j.getSelectedOptions(l)[0],n=m&&i.scry(m,'.itemIcon')[0],o=j.getSelectorButton(l);if(n){g.setIcon(o,n.cloneNode(true));}else{var p=i.scry(o,'.img')[0];p&&i.remove(p);}h.conditionClass(o,'uiSelectorChevronOnly',!n);}};j.subscribe('change',function(l,m){var n=m.selector;if(h.hasClass(n,'dynamicIconSelector'))k.swapIcon(n);});e.exports=k;},null);
__d("PrivacySelectorOption",["Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyConst","SelectorDeprecated","csx","fbt","intlList"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(t,u){if(!t)throw new Error("there's no DOM option. Config data: ",u);this._elem=t;this._selector=m.byClass(this._elem,'audienceSelector');if(!this._selector)return;this._priv_base_val=u.priv_base_val;this._audienceCount=u.audience_count||"";this._hasRestricted=u.has_restricted||false;this._isCustom=u.is_custom||false;this._includedAudience=u.included||"";this._excludedAudience=u.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=u.tag_expansion_behavior||n.TagExpansion.NONE;this._plusLabel=k.scry(t,'.plusLabel')[0];this._audienceCountLabel=k.scry(t,'.audienceCountLabel')[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();g.subscribe('Composer/changedtags',function(v,w){var x=i.hasClass(this._selector,'composerAudienceSelector');if(!this._getChangedData()||!x)return;this._tags=[];this._taggedIDs=[];for(var y=0;y<w.withTags.length;y++){var z=w.withTags[y].info;if(z.uid!=j.getID()){this._tags.push(z.text);this._taggedIDs.push(z.uid);}}for(y in w.mention)if(w.mention[y].type=='user'&&w.mention[y].uid!=j.getID()){this._tags.push(w.mention[y].text);this._taggedIDs.push(w.mention[y].uid);}var aa=k.scry(document.body,"._5l7q")[0];aa&&!!this._taggedIDs.length&&i.hide(aa);this._updateOptionCountLabel();var ba=this._recalculateTooltipAndLabel();if(ba&&o.isOptionSelected(this._elem)){this._updateSelector();g.inform('SelectedPrivacyOption/changed',this._getChangedData());}}.bind(this));o.listen(this._selector,'change',this._updateSelector.bind(this));}Object.assign(s.prototype,{updateOption:function(t,u,v,w,x){this._priv_base_val=t;this._includedAudience=u;this._excludedAudience=v;this._tagExpansionBehavior=w;this._audienceCount=x;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return {label:this._label,tooltip:this._tooltip};},_recalculateTooltipAndLabel:function(){var t=this._label;this._label=this._getNewSelectorLabel();var u=this._tooltip;this._tooltip=this._getNewTooltip();return (u!=this._tooltip)||(t!=this._label);},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case n.FriendsValue.ALL_FRIENDS:return this._recalcFriendsTooltip();case n.FriendsValue.FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case n.FriendsValue.SELF:var t=this._getTagExpansionText();return t?t:this._getIncludedAudience();default:return this._recalcCustomTooltip();}},_getNewSelectorLabel:function(){var t=this._elem.getAttribute('data-label').replace(/\(.*\)/,"");if(this._showAudienceCount()){var u=' ('+this._audienceCount+')';t+=u;}if(this._isTagExpanded())t+=' (+)';return t;},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var t=' ('+this._audienceCount+')';k.setContent(this._audienceCountLabel,t);}i.conditionShow(this._audienceCountLabel,this._showAudienceCount());}this._plusLabel&&i.conditionShow(this._plusLabel,this._isTagExpanded());},_getChangedData:function(){return {tags:this._taggedIDs,privacy:this._priv_base_val};},_showAudienceCount:function(){return (this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0);},_isTagExpanded:function(){var t=this._getTagExpansionBehavior(),u=!!this._taggedIDs.length||this._alreadyHasTags();return (u&&t!=n.TagExpansion.NONE);},_alreadyHasTags:function(){var t=k.scry(this._selector,'*[data-oid]')[0];t=t&&t.getAttribute('data-oid');return t&&h.hasTags(t);},_updateSelector:function(){if(!this._isSharedAlbum()&&o.isOptionSelected(this._elem)){var t=i.hasClass(this._selector,'composerAudienceSelector');t&&o.setButtonLabel(this._selector,this._label);o.setButtonTooltip(this._selector,this._tooltip);l.swapIcon(this._selector);return false;}return true;},_isSharedAlbum:function(){var t=k.scry(this._selector,'*[data-shared-album]')[0];return t&&t.getAttribute('data-shared-album');},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var t=this._priv_base_val===n.FriendsValue.SELF,u=this._priv_base_val===n.FriendsValue.EVERYONE;if((t&&this._isSharedAlbum())||u){return n.TagExpansion.NONE;}else if(this._priv_base_val<n.FriendsValue.ALL_FRIENDS)return n.TagExpansion.TAGGEES;return n.TagExpansion.FRIENDS_OF_TAGGEES;},_getTagExpansionText:function(){var t=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(t==n.TagExpansion.FRIENDS_OF_TAGGEES){return q._("friends of anyone tagged");}else if(t==n.TagExpansion.TAGGEES)return q._("Anyone tagged");return '';}return '';},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var t=this._priv_base_val===n.FriendsValue.SELF;if(t&&!this._isSharedAlbum())return q._("Only Me");return this._elem.getAttribute('data-label');},_getCombinedSentence:function(t,u){if(!u)return t;return q._("{list of people who can see this}; Except: {list of people who cannot see this}",[q.param("list of people who can see this",t),q.param("list of people who cannot see this",u)]);},_recalcFriendsTooltip:function(){var t=this._tags.length;if(t>2){return this._hasRestricted?q._("Your friends and friends of anyone tagged; Except: Restricted"):q._("Your friends and friends of anyone tagged");}else if(t==2){if(this._hasRestricted){return q._("Your friends, {user}'s friends and {user2}'s friends; Except: Restricted",[q.param("user",this._tags[0]),q.param("user2",this._tags[1])]);}else return q._("Your friends, {user}'s friends and {user2}'s friends",[q.param("user",this._tags[0]),q.param("user2",this._tags[1])]);}else if(t==1){if(this._hasRestricted){return q._("Your friends and {user}'s friends; Except: Restricted",[q.param("user",this._tags[0])]);}else return q._("Your friends and {user}'s friends",[q.param("user",this._tags[0])]);}else return this._hasRestricted?q._("Your friends; Except: Restricted"):q._("Your friends");},_recalcFriendsMinusTooltip:function(){var t=this._tags.length;if(t>0||this._alreadyHasTags()){var u=q._("friends of anyone tagged"),v=q._("{people who can see this}, {list of more people who can see this}",[q.param("people who can see this",q._("Your friends")),q.param("list of more people who can see this",u)]),w=q._("Acquaintances");if(this._hasRestricted)w=q._("{Name of Acquaintances friend list}, {restricted}",[q.param("Name of Acquaintances friend list",w),q.param("restricted",q._("Restricted"))]);return this._getCombinedSentence(v,w);}else{if(this._hasRestricted)return q._("Friends; Except: Acquaintances, Restricted");return q._("Friends except Acquaintances");}},_recalcCustomTooltip:function(){var t=this._getIncludedAudience(),u=this._getTagExpansionText();if(u)t=q._("{list of people who can see this}, {list of additional people who can see this}",[q.param("list of people who can see this",t),q.param("list of additional people who can see this",u)]);for(var v=0;v<this._taggedIDs.length;v++){w=this._taggedIDs[v];if(w in this._excludedAudience){delete this._excludedAudience[w];this._excludedTaggees[w]=this._tags[v];break;}}for(var w in this._excludedTaggees)if(this._excludedTaggees.hasOwnProperty(w))if(this._taggedIDs.indexOf(w)===-1){this._excludedAudience[w]=this._excludedTaggees[w];delete this._excludedTaggees[w];break;}var x=[];for(v in this._excludedAudience)if(this._excludedAudience.hasOwnProperty(v))x.push(this._excludedAudience[v]);return this._getCombinedSentence(t,r(x));}});e.exports=s;},null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();function r(s,t){if(!s)return;setTimeout((function(){this._selector=m.byClass(s,'audienceSelector');if(!this._selector)return;this.initCustomState(s,t.option_id,t.id);var u={priv_base_val:t.base_audience_value,audience_count:t.audience_count,is_custom:true,included:t.included_audience,excluded:t.excluded_audience,tag_expansion_behavior:t.tag_expansion_behavior};this._optionJSInstance=new o(s,u);k.listen(s,'click',function(event){this.openCustomDialog(event,t.option_id,t.explain_tags,t.autosave,t.limit_community,t.limit_facebook,t.limit_fof,t.limit_tagexpand,t.source);}.bind(this));p.listen(this._selector,'select',function(v){if(v.option._id!=this._id)this.clearCustomState();}.bind(this));}).bind(this),0);}Object.assign(r,{_instances:{},update:function(s,t,u,v,w,x,y,z,aa){var ba=r._instances[s];ba._update(t,u)._updateOption(u,w,x,y,z,aa);g.inform('Form/change',{node:ba._container});},getData:function(s){var t=r._instances[s];return t&&t._privacyData;},setPrivacyData:function(s,t,u){r._instances[s]._update(t,u);}});Object.assign(r.prototype,{_updateOption:function(s,t,u,v,w,x){var y=p.getOption(this._selector,s)||p.getOption(this._selector,n.BaseValue.CUSTOM+''),z=this._optionJSInstance.updateOption(t,u,v,w,x);g.inform('CustomPrivacyOptionController/update',{selector:this._selector,option:y,tooltip:z.tooltip,label:z.label});return this;},_update:function(s,t){var u=t==n.BaseValue.CUSTOM||!p.getOption(this._selector,t),v=this._selector.getAttribute('data-name');this.updateCustomState(s,u,v);return this;},initCustomState:function(s,t,u){r._instances[t]=this;this._container=j.find(s,'.customPrivacyInputs');this._id=u;this._privacyData={};var v=l.serialize(this._container);if(v.audience)this._privacyData=v.audience[u];return s;},openCustomDialog:function(event,s,t,u,v,w,x,y,z){var aa=q.getURIBuilder().setString('option_id',s).setString('id',this._id).setString('privacy_data',JSON.stringify(this._privacyData)).setBool('explain_tags',t).setBool('autosave',u).setBool('limit_community',v).setBool('limit_facebook',w).setBool('limit_fof',x).setBool('limit_tagexpand',y).setBool('is_new_privacy_selector',false).setString('source',z).getURI(),ba=new i(aa);ba.setRelativeTo(event.getTarget());h.send(ba,function(ca){ca.subscribe('cancel',function(){g.inform('CustomPrivacyOptionController/cancel',{selector:this._selector});}.bind(this));}.bind(this));},updateCustomState:function(s,t,u){this.clearCustomState();this._privacyData=Object.assign({},s);if(t)if(u){u=u.slice(0,-'[value]'.length);var v={};v[u]=s;l.createHiddenInputs(v,this._container,null,true);}},clearCustomState:function(){this._privacyData={};j.empty(this._container);}});e.exports=r;},null);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DynamicIconSelector","PrivacyConst","SelectorDeprecated"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p={};o.subscribe('select',function(r,s){if(!j.hasClass(s.selector,'audienceSelector'))return;var t=o.getOptionValue(s.option);s.value=t;g.inform('AudienceSelector/changed',s);if(t==n.BaseValue.CUSTOM&&!j.hasClass(s.option,'noDialog')){o.toggle(s.selector);return false;}g.inform('AudienceSelector/changedNonCustomDialogButton',s);if(j.hasClass(s.selector,'dataTooltip')){var u=l.find(s.option,'.itemAnchor').getAttribute('data-tooltip');o.setButtonTooltip(s.selector,u||null);}if(!j.hasClass(s.option,'specialOption'))return;var v=l.find(s.option,'a').getAttribute('data-type');if(j.hasClass(s.option,'moreOption')){j.addClass(s.selector,v);j.addClass(s.selector,'showSecondaryOptions');return false;}else if(j.hasClass(s.option,'returnOption')){j.removeClass(s.selector,'showSecondaryOptions');j.removeClass(s.selector,'friendList');return false;}});var q={keepSynchronized:function(r,s){p[r]||(p[r]={});p[r][s.id]=s;},setHasTags:function(r){i.setHasTags(r);},getComposerInstance:function(){var r=p['PrivacyLiteNav/audience'];if(r){var s;for(var t in r){s=r[t];return s;}}return null;},forceAndKeepSynchronized:function(r,s){q.keepSynchronized(r,s);g.inform('AudienceSelector/update',{option:o.getSelectedOptions(s)[0],selector:s});},get:function(r){if(j.hasClass(r,'audienceSelector'))return r;var s=l.scry(r,'div.audienceSelector');if(s.length!=1)return;return s[0];},setAudience:function(r,s){var t=q.get(r);o.loadMenu(t,function(u){o.setSelected(t,s.toString());m.swapIcon(t);var v=o.getSelectedOptions(t),w=v[0]&&l.find(v[0],'a');if(w&&w.getAttribute('ajaxify'))h.bootstrap(w.getAttribute('ajaxify'),w,true);g.inform('AudienceSelector/changed',{option:v[0],selector:t});});}};g.subscribe('CustomPrivacyOptionController/update',function(r,s){if(!j.hasClass(s.selector,'audienceSelector'))return;o.setSelected(s.selector,o.getOptionValue(s.option));m.swapIcon(s.selector);var t=j.hasClass(s.selector,'composerAudienceSelector'),u=j.hasClass(s.selector,'inlineAudienceWidget');if(t||u)o.setButtonLabel(s.selector,s.label);o.setButtonTooltip(s.selector,s.tooltip);g.inform('AudienceSelector/update',s);});g.subscribe(['AudienceSelector/changed','AudienceSelector/update'],function(event,r){var s=o.getOptionValue(r.option),t={};if(s==n.BaseValue.CUSTOM){if(event=='AudienceSelector/changed')return;t=k.getData(r.option.id);if(!t)return;}else if(j.hasClass(r.selector,'inlineAudienceWidget'))o.setButtonLabel(r.selector,r.option.innerText);for(var u in p){var v=p[u];if(v[r.selector.id]){g.inform('AudienceSelector/syncNonSelectorIcon',{category:u});for(var w in v){var x=v[w];if(!x||r.selector===x)continue;if(o.getValue(x)!==s){o.setSelected(x,s);m.swapIcon(x);}if(s==n.BaseValue.CUSTOM){var y=o.getOption(x,n.BaseValue.CUSTOM+'');if(y){k.setPrivacyData(y.id,t,s);o.setButtonTooltip(x,r.tooltip);}}}}}});e.exports=q;},null);
__d("XStickyComposerChangeController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/privacy\/sticky_composer\/change\/",{privacyx:{type:"String"},logging_source:{type:"String"}});},null);
__d("PrivacySelector",["Arbiter","ArbiterMixin","AsyncRequest","AudienceSelector","CSS","DOM","PrivacyConst","DataStore","PrivacySelectorNewDispatcher","Run","SelectorDeprecated","SubscriptionsHandler","XStickyComposerChangeController","cx","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=u(h);for(var w in v)if(v.hasOwnProperty(w))y[w]=v[w];var x=v===null?null:v.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=v;function y(z,aa){"use strict";v.call(this);this.$PrivacySelector0=aa;if(aa){this.$PrivacySelector1=z;}else this.$PrivacySelector2=z;this.$PrivacySelector3=null;this.$PrivacySelector4=new r();this.$PrivacySelector5=new r();if(this.$PrivacySelector0){this.$PrivacySelector6();}else this.$PrivacySelector7();p.onLeave(this.cleanup.bind(this));}y.prototype.select=function(z,aa,ba){"use strict";if(!z||!aa)throw new Error('PrivacySelector.select: you must pass in privacyParam '+'and privacyBase');if(this.$PrivacySelector0){if(ba)this.$PrivacySelector4.addSubscriptions(this.$PrivacySelector1.subscribeOnce('changed',function(ca,da){ba('changed',{post_param:da.post_param});}));this.$PrivacySelector1.selectOption(z);}else{if(ba)this.$PrivacySelector5.addSubscriptions(g.subscribe('AudienceSelector/changed',function(ca,da){if(this.$PrivacySelector8(da.selector)){var ea=q.getOptionValue(da.option);ba('changed',{privacy_base:ea});}}.bind(this)));j.setAudience(this.$PrivacySelector2,aa);}};y.prototype.expandFull=function(z){"use strict";if(this.$PrivacySelector0){this.$PrivacySelector1.openSelectorExpanded(z);}else this.expand(z);};y.prototype.expandFullAndShowFlyout=function(z){"use strict";this.expandFull(this.showFlyoutOnMenu.bind(this,z));};y.prototype.expand=function(z){"use strict";if(this.$PrivacySelector0){this.$PrivacySelector1.openSelector(z);}else{var aa=q.getSelectorMenu(this.$PrivacySelector2);if(!aa){q.loadMenu(this.$PrivacySelector2,function(){z&&z();});}else this.$PrivacySelector5.addSubscriptions(q.listen(this.$PrivacySelector2,'open',function(){z&&z();this.$PrivacySelector8(this.$PrivacySelector2);}.bind(this)));q.toggle(this.$PrivacySelector2,z);}};y.prototype.showFlyoutOnMenu=function(z){"use strict";this.$PrivacySelector9&&this.$PrivacySelector9.hide();this.$PrivacySelector9=z;var aa;if(this.$PrivacySelector0){aa=this.$PrivacySelector1.getMenuElement();z.setOffsetY(85);}else{aa=l.scry(this.$PrivacySelector2,'div.uiSelectorMenuWrapper')[0];z.setOffsetY(13);}z.setContext(aa);z.show();};y.prototype.setOnClose=function(z){"use strict";this.$PrivacySelector3=z;};y.prototype.cleanup=function(){"use strict";this.$PrivacySelector4.release();this.$PrivacySelector4=new r();this.$PrivacySelector5.release();this.$PrivacySelector5=new r();this.$PrivacySelector9&&this.$PrivacySelector9.hide();this.$PrivacySelector9=null;this.$PrivacySelector3=null;};y.get=function(z){"use strict";if(!z)return;var aa=n.get(z,'selector');if(!aa){z=y.getDOMFromStory(z);if(!z)return;aa=n.get(z,'selector');}if(aa)return new y(aa,true);return new y(z,false);};y.getAdamaSelectorInstance=function(z){"use strict";if(!z)return;var aa=n.get(z,'selector');if(!aa){z=y.getDOMFromStory(z);if(!z)return;aa=n.get(z,'selector');}return aa;};y.getDOMFromStory=function(z){"use strict";if(!z)return;var aa=l.scry(z,"._43_1")[0];if(aa)return aa;return j.get(z);};y.getIconFromSelectorDOM=function(z){"use strict";return l.scry(z,'i.img')[0];};y.setComposerPrivacy=function(z,aa,ba){"use strict";var ca=s.getURIBuilder().setString('privacyx',z);ba&&ca.setString('logging_source',ba);new i(ca.getURI()).send();o.handleUpdateFromSelector({selector_type:m.PrivacyField.CURRENT_COMPOSER,post_param:z,unique_value:'_updateStickyComposerPrivacy'});var da=j.getComposerInstance(aa);if(da)j.setAudience(da,aa);};y.prototype.$PrivacySelector6=function(){"use strict";this.$PrivacySelector4.addSubscriptions(this.$PrivacySelector1.subscribe('changed',function(z,aa){this.inform('changed',{post_param:aa.post_param});}.bind(this)),this.$PrivacySelector1.subscribe('selectorFinished',function(){this.$PrivacySelector3&&this.$PrivacySelector3();}.bind(this)));};y.prototype.$PrivacySelector7=function(){"use strict";this.$PrivacySelector4.addSubscriptions(g.subscribe('AudienceSelector/update',function(z,aa){if(this.$PrivacySelector2!==aa.selector)return;var ba=q.getOptionValue(aa.option);this.inform('changed',{privacy_base:ba});}.bind(this)),g.subscribe('AudienceSelector/changed',function(z,aa){if(this.$PrivacySelector2!==aa.selector)return;if(k.hasClass(aa.option,'moreOption')||k.hasClass(aa.option,'returnOption'))return;if(aa.value!=m.BaseValue.CUSTOM){this.inform('changed',{privacy_base:aa.value});}else if(aa.value==m.BaseValue.CUSTOM)this.$PrivacySelectora=true;}.bind(this)),q.listen(this.$PrivacySelector2,'close',function(){if(this.$PrivacySelectora){this.$PrivacySelectora=false;return;}this.$PrivacySelector3&&this.$PrivacySelector3();}.bind(this)),g.subscribe('CustomPrivacyOptionController/cancel',function(z,aa){if(this.$PrivacySelector2!==aa.selector)return;this.$PrivacySelector3&&this.$PrivacySelector3();}.bind(this)));};y.prototype.$PrivacySelector8=function(z){"use strict";if(z!=this.$PrivacySelector2)return false;this.$PrivacySelector5.release();this.$PrivacySelector5=new r();return true;};e.exports=y;},null);
__d("ComposerX",["ActorURI","Arbiter","ComposerXAttachmentBootstrap","ComposerXContext","ComposerXMarauderLogger","ComposerXSessionIDs","ComposerXSessionIDInserter","ComposerXStore","CSS","DOM","DOMQuery","PrivacyConst","PrivacySelector","PrivacySelectorNewDispatcher","URI","SubscriptionsHandler","arrayContains","csx","cx","getObjectValues","removeFromArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){b.__markCompiled&&b.__markCompiled();var ba='any';function ca(da){"use strict";this._root=da;this._composerID=da.id;this._attachments={};this._context=new j({});l.resetSessionID(this._composerID);m.init(this._root);this._subscriptionsHandler=new v();this._subscriptionsHandler.addSubscriptions(h.subscribe(['composer/publish','composer/close'],function(ea,fa){if(fa.composer_id===this._composerID)this.reset();}.bind(this)));this._subscriptionsHandler.addSubscriptions.apply(this._subscriptionsHandler,k.listenForPostEvents(this._composerID,this._getContent()));this._attachmentFetchForm=q.find(da,"._2_4");}ca.prototype.getAttachment=function(da,ea,fa){"use strict";da=this._augmentURI(da);var ga=i.getURIHash(da);this._endpointHashToShow=ga;var ha=this._attachments[ga];if(ha){this._showAttachmentAfterComponentsLoaded(ga,fa);}else this.fetchAttachmentData(da,ea);};ca.prototype.fetchAttachmentData=function(da,ea){"use strict";da=this._augmentURI(da);var fa=i.getURIHash(da);if(this._attachments[fa])return;if(!w(this._currentFetchEndpoints,fa)){i.load(this._attachmentFetchForm,da,ea);this._currentFetchEndpoints.push(fa);}};ca.prototype.setAttachment=function(da,ea,fa,ga){"use strict";aa(this._currentFetchEndpoints,da);this._setupAttachment(da,ea,fa,ga);this._showAttachmentAfterComponentsLoaded(da,false);};ca.prototype.setInitialAttachment=function(da,ea,fa,ga,ha){"use strict";if(ha)this._context=ha;da=this._augmentURI(da);var ia=i.getURIHash(da);this._setupAttachment(ia,ea,fa,ga);this._initialAttachmentEndpoint=da;if(!this._currentInstance)this._showAttachmentAfterComponentsLoaded(ia,true);};ca.prototype.setComponent=function(da,ea){"use strict";if(!n.get(this._composerID,da)){n.set(this._composerID,da,ea);p.appendContent(this._attachmentFetchForm,p.create('input',{type:'hidden',name:'loaded_components[]',value:da}));}};ca.prototype.reset=function(){"use strict";if(this._currentInstance){this._currentInstance.cleanup();this._currentInstance=null;}l.resetSessionID(this._composerID);for(var da in this._attachments)this._attachments[da].instance.reset();var ea=n.getAllForComposer(this._composerID);z(ea).forEach(function(ia){if(ia.reset)ia.reset(ia);});var fa=s.getAdamaSelectorInstance(p.scry(this._root,"div._1lo2")[0]),ga=n.get(this._composerID,'mainprivacywidget'),ha=ga&&ga.instance&&ga.instance.getInstance();if(fa){ha.setInstance(fa);}else fa=ha&&ha.getInstance();if(fa&&fa.shouldReplaceOnPost())if(fa.isComposerWithDefault()){fa.selectDefaultOption();t.handleUpdateFromSelector({selector_type:r.PrivacyField.DEFAULT_COMPOSER.toString(),post_param:'',unique_id:'_reloadDefaultSelectors',reload:true});}else t.handleUpdateFromSelector({selector_type:r.PrivacyField.CURRENT_COMPOSER.toString(),post_param:'',unique_id:'_reloadStickySelectors',reload:true});this.getAttachment(this._initialAttachmentEndpoint,false,true);h.inform('composer/reset');};ca.prototype.destroy=function(){"use strict";this._subscriptionsHandler.release();};ca.prototype.addPlaceholders=function(da,ea){"use strict";var fa;for(var ga in this._attachments){fa=this._attachments[ga];if(fa.instance===da){ea.forEach(function(ha){fa.placeholders.push(ha);fa.required_components.push(ha.component_name);});break;}}if(this._currentInstance===da)this._fillPlaceholders(ea);};ca.prototype.hasAttachmentWithClassName=function(da){"use strict";return q.scry(this._root,'.'+da).length>0;};ca.prototype.showAttachmentThrobber=function(){"use strict";o.addClass(this._attachmentFetchForm,'async_saving');};ca.prototype.hideAttachmentThrobber=function(){"use strict";o.removeClass(this._attachmentFetchForm,'async_saving');};ca.prototype.getContext=function(){"use strict";return this._context;};ca.prototype.getID=function(){"use strict";return this._composerID;};ca.prototype._setupAttachment=function(da,ea,fa,ga){"use strict";ea.setComposerID(this._composerID);this._attachments[da]={instance:ea,placeholders:fa,required_components:ga};var ha=this._getContent(),ia=ea.getRoot();if(ia.parentNode!==ha){o.hide(ia);p.appendContent(ha,ia);}};ca.prototype._getContent=function(){"use strict";return q.find(this._root,"div._55d0");};ca.prototype._showAttachment=function(da,ea,fa,ga){"use strict";if(this._currentInstance===da)return;if(this._endpointHashToShow===ba){this._endpointHashToShow=null;}else if(this._endpointHashToShow!==ea)return;if(this._currentInstance){if(!this._currentInstance.canSwitchAway())return;this._currentInstance.cleanup();}this._currentInstance=da;var ha=this._getContent().childNodes,ia=da.getRoot();for(var ja=0;ja<ha.length;ja++)if(ha[ja]!==ia)o.hide(ha[ja]);o.show(ia);this._fillPlaceholders(fa);da.initWithComponents(ga);this._setAttachmentSelectedClass(da.attachmentClassName);h.inform('composer/initializedAttachment',{composerRoot:this._root,isInitial:ga});};ca.prototype._showAttachmentAfterComponentsLoaded=function(da,ea){"use strict";var fa=this._attachments[da];n.waitForComponents(this._composerID,fa.required_components,this._showAttachment.bind(this,fa.instance,da,fa.placeholders,ea));};ca.prototype._fillPlaceholders=function(da){"use strict";da.forEach(function(ea){var fa=n.get(this._composerID,ea.component_name);if(fa.element&&ea.element!==fa.element.parentNode)p.setContent(ea.element,fa.element);}.bind(this));};ca.prototype._setAttachmentSelectedClass=function(da){"use strict";var ea=q.scry(this._root,"._519b")[0],fa;if(ea){o.removeClass(ea,"_519b");fa=q.scry(ea,'*[aria-pressed="true"]')[0];if(fa)fa.setAttribute('aria-pressed','false');}if(da){var ga=q.scry(this._root,'.'+da)[0];if(ga){o.addClass(ga,"_519b");fa=q.scry(ga,'*[aria-pressed="false"]')[0];if(fa)fa.setAttribute('aria-pressed','true');}}};ca.prototype._augmentURI=function(da){"use strict";var ea=this._context.getProperty(j.PROPERTIES.ACTOR_ID),fa=(ea)?g.create(da,ea):new u(da),ga=this._context.getProperty(j.PROPERTIES.POST_ID);if(ga)fa.addQueryData('post_id',ga);return fa.toString();};Object.assign(ca.prototype,{_endpointHashToShow:ba,_currentFetchEndpoints:[],_initialAttachmentEndpoint:''});e.exports=ca;},null);
__d("ComposerXAttachment",["ComposerXStore"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){"use strict";}h.prototype.getRoot=function(){"use strict";};h.prototype.initWithComponents=function(i){"use strict";};h.prototype.cleanup=function(){"use strict";};h.prototype.reset=function(){"use strict";};h.prototype.getComponent=function(i){"use strict";return g.get(this._composerID,i);};h.prototype.getComponentInstance=function(i){"use strict";var j=g.get(this._composerID,i);return j&&j.instance;};h.prototype.canSwitchAway=function(){"use strict";return true;};h.prototype.setComposerID=function(i){"use strict";this._composerID=i;};h.prototype.getComposerID=function(){"use strict";return this._composerID;};h.prototype.allowOGTagPreview=function(){"use strict";return false;};Object.assign(h.prototype,{attachmentClassName:''});e.exports=h;},null);
__d("registerForLeaveWarning",["PageTransitions","Run","URI","createCancelableFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(n){var o=i.getNextURI(),p=j(n);h.onBeforeUnload(function(){return m(p,o);});return p;}function m(n,o){var p=g.getMostRecentURI(),q=i.getNextURI(),r=p.getQueryData().hasOwnProperty('theater')&&o.path===q.path,s=q.getQueryData().hasOwnProperty('theater'),t=a.DialogNavigationStack&&a.DialogNavigationStack.isActiveURI(q);if(r||s||t){h.onAfterLoad(function(){h.onBeforeUnload(function(){return m(n,o);});});return;}if(a.Dialog&&a.Dialog.getCurrent())return;if(n())return k._("You haven't finished your post yet. Do you want to leave without finishing?");}e.exports=l;},null);
__d("ComposerXController",["ActorURI","Arbiter","ComposerX","ComposerXMarauderLogger","ComposerXAttachmentBootstrap","ComposerXContext","Event","Parent","$","cx","emptyFunction","ge","invariant","registerForLeaveWarning"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u={},v={},w={};function x(ba){var ca=r(ba);if(!ca)return null;var da=n.byClass(o(ba),"_119"),ea=da.id;if(!w[ea])w[ea]=new i(da);return w[ea];}function y(ba){var ca=x(ba);s(ca!==null);return ca;}function z(ba){if(!v[ba])return;v[ba].forEach(function(ca){return ca.cancel();});delete v[ba];}var aa={registerConditionForComposerCancel:function(ba,ca){var da=y(ba).getID();if(!(da in u))u[da]=[];u[da].push(ca);if(!(da in v))v[da]=[];v[da].push(t(ca));},hasChanges:function(ba){var ca=u[ba];if(!ca)return false;return ca.some(function(da){return da();});},getAttachment:function(ba,ca,da){var ea=y(ba);ea.getAttachment(ca,da);},fetchAttachmentData:function(ba,ca,da){y(ba).fetchAttachmentData(ca,da);},setAttachment:function(ba,ca,da,ea,fa){var ga=x(ba);if(ga)ga.setAttachment(ca,da,ea,fa);},setInitialAttachment:function(ba,ca,da,ea,fa,ga){var ha=y(ba);ha.setInitialAttachment(ca,da,ea,fa,ga);},setComponent:function(ba,ca,da){var ea=x(ba);if(ea)ea.setComponent(ca,da);},reset:function(ba){var ca=y(ba);ca.reset();},holdTheMarkup:q,getEndpoint:function(ba,ca,da){var ea=y(ba),fa=ea.getContext();ca=g.create(ca,fa.getProperty(l.PROPERTIES.ACTOR_ID)).toString();k.load(ea._attachmentFetchForm,ca,da);},addPlaceholders:function(ba,ca,da){var ea=y(ba);ea.addPlaceholders(ca,da);},hasAttachmentWithClassName:function(ba,ca){var da=y(ba);return da.hasAttachmentWithClassName(ca);},showAttachmentThrobber:function(ba){var ca=y(ba);ca.showAttachmentThrobber();},hideAttachmentThrobber:function(ba){var ca=y(ba);ca.hideAttachmentThrobber();},logEventForElement:function(ba,ca){m.listen(ba,'click',function(){var da=aa.getComposerID(ba);j.logEvent(ca,da);});},getComposerID:function(ba){return y(ba).getID();},destroyComposer:function(ba){if(!(ba in w))return;w[ba].destroy();delete w[ba];delete u[ba];z(ba);}};k.bootstrap=function(ba){aa.getAttachment(ba,ba.getAttribute('data-endpoint'));};h.subscribe('page_transition',function(){for(var ba in w)if(!r(ba))aa.destroyComposer(ba);});e.exports=aa;},null);
__d("ComposerXAttachmentButtonBarState",["CSS","DOMQuery","csx","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={trackCityChanges:function(l){var m=l.getComponent('citysharericon');if(m)return m.instance.subscribe('change',function(){k.updateMessageBoxBarState(l);});},updateMessageBoxBarState:function(l){var m=l.getComponent('citysharericon');if(m){var n=h.find(l.getRoot(),"._1dsp");g.conditionClass(n,"_icv",!!m.instance.getValue());}}};e.exports=k;},null);
__d("ComposerXAttachmentPrefillMixin",["Event","InputSelection"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={_initPrefill:function(j,k){this._textArea=j;this._didInitialFocus=false;this._prefill=k;if(this._prefill)this._focusListener=g.listen(this._textArea,'focus',this._prefillOnFocus.bind(this));},_resetPrefill:function(){this._didInitialFocus=false;},_prefillOnFocus:function(){if(!this._didInitialFocus&&this._prefill&&this._textArea.value===''){this._textArea.value=this._prefill;h.set(this._textArea,0,0);}this._didInitialFocus=true;}};e.exports=i;},null);
__d("ComposerXAttachmentUtils",["BrowserSupport","Button","ComposerXController","DataStore","DOMQuery","Event","Focus","Keys","Run","StickyPlaceholderInput","UserAgent_DEPRECATED","csx","debounce"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t='composer_fixed_placeholder';function u(w,x){if(!j.get(w.element,t,false))w.instance.setPlaceholder(x);}var v={initMentions:function(w,x,y,z){u(w,x);if(!z||!z.dontFocusMentions)v.focusMentions(w);this.registerMentionsForComposerCancel(w,y);},focusMentions:function(w){var x=k.find(w.element,'textarea.input');m.set(x);},registerMentionsForComposerCancel:function(w,x){i.registerConditionForComposerCancel(x,w.instance.hasChanges.bind(w.instance));},setStickyPlaceholderForMentions:function(w,x){u(w,x);},setPlaceholderIsFixed:function(w,x){j.set(w.element,t,!!x);},setStickyPlaceholderForTypeahead:function(w,x){var y=k.find(w,'.textInput');p.setPlaceholderText(y,x);},listenForPostSubmission:function(w){l.listen(w,'keydown',function(event){var x=event.getModifiers(),y=q.osx()?x.meta:x.control,z=k.find(w.form,"._11b"+'[type="submit"]');if((event.keyCode===n.RETURN)&&y&&h.isEnabled(z)){w.blur();if(l.fire(z,'click'))l.fire(w.form,'submit');event.preventDefault();}});},disableSaveOnEmpty:function(w,x){var y=k.find(w,'.textInput'),z=s(function(ba){h.setEnabled(x,y.value.trim().length!==0);},50),aa=[];aa.push(l.listen(y,'keyup',z));if(g.hasClipboardEvents()){aa.push(l.listen(y,'cut',z));aa.push(l.listen(y,'paste',z));}else{aa.push(l.listen(y,'mouseout',z));aa.push(l.listen(y,'mousemove',z));}o.onUnload(function(){for(var ba=0;ba<aa.length;ba++)aa[ba].remove();aa=null;});}};e.exports=v;},null);
__d("ComposerXAttachmentWithPreviews",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={initPreviewButton:function(i,j){g.inform('page_composer_preview_form_initialized',i);}};e.exports=h;},null);
__d("isAnimatedGif",["Promise"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=1e+06;function i(m){return m[0]===71&&m[1]===73&&m[2]===70;}function j(m,n){return m[n]===0&&m[n+1]===33&&m[n+2]===249&&m[n+3]===4&&m[n+8]===0&&(m[n+9]===44||m[n+9]===33);}function k(m){if(!i(m))return false;var n=0;for(var o=0;o+9<m.length;++o){if(j(m,o))n++;if(n>1)return true;}return false;}function l(m){return new g(function(n){var o=new FileReader();o.onloadend=function(r){if(r.target.readyState==FileReader.DONE){var s=new Uint8Array(r.target.result);if(k(s)){n(true);}else n(false);}};o.onerror=function(r){n(false);};var p=Math.min(h,m.size),q=m.slice(0,p);o.readAsArrayBuffer(q);});}e.exports=l;},null);
__d("ComposerXMediaUploadHandler",["Arbiter","AsyncRequest","ComposerXAjaxEndpoint","ComposerXController","CSS","Dialog","SubscriptionsHandler","URI","VideoUploadConfig","VideoUploadFile","fbt","isAnimatedGif"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=i.MEDIA_UPLOAD,t='/ajax/composerx/attachment/video/upload/',u=0;function v(w,x){"use strict";this.$ComposerXMediaUploadHandler0=w;this.$ComposerXMediaUploadHandler1=x;}v.prototype.fetchAttachments=function(){"use strict";[this.getPhotoUploadAttachmentEndpoint(),t].forEach(function(w){j.fetchAttachmentData(this.$ComposerXMediaUploadHandler0,w);}.bind(this));};v.prototype.handleFileSelected=function(w){"use strict";var x=this;v.isVideoOrAnimatedGifAsync(w,function(y){if(y){x.handleVideoSelected(w);}else x.handlePhotoSelected(w);});};v.canUploadAnimatedGIF=function(){"use strict";return 'gif' in o.videoExtensions;};v.isVideoOrAnimatedGifAsync=function(w,x){"use strict";var y=p.getExtensionFromFileInput(w.getInput());if(v.canUploadAnimatedGIF()&&y==='gif'){r(w.getInput().files[0]).then(x);}else if(o.videoExtensions[y]){x(true);}else x(false);};v.prototype.handleVideoSelected=function(w){"use strict";if(this.$ComposerXMediaUploadHandler1&&this.$ComposerXMediaUploadHandler1.imagesOnly){var x=new l().setModal(true).setButtons([l.OK]);if(this.$ComposerXMediaUploadHandler1.isEditComposer){x.setTitle(q._("Can't add video")).setBody(q._("Sorry, you can't add a video to a post you're editing."));}else x.setTitle(q._("Invalid Image File")).setBody(q._("Please upload a valid image file."));x.show();return;}j.getAttachment(this.$ComposerXMediaUploadHandler0,t);g.inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXMediaUploadHandler0+'/videoupload',{fileInput:w},g.BEHAVIOR_PERSISTENT);};v.prototype.handlePhotoSelected=function(w){"use strict";j.getAttachment(this.$ComposerXMediaUploadHandler0,this.getPhotoUploadAttachmentEndpoint());v.$ComposerXMediaUploadHandler2(this.$ComposerXMediaUploadHandler0,w);};v.isVideoFile=function(w){"use strict";var x=p.getExtensionFromFileInput(w.getInput());return !!o.videoExtensions[x];};v.prototype.$ComposerXMediaUploadHandler3=function(){"use strict";return (this.$ComposerXMediaUploadHandler1)?this.$ComposerXMediaUploadHandler1.photoUploadOverrideEndpoint:null;};v.prototype.getPhotoUploadAttachmentEndpoint=function(){"use strict";var w=this.$ComposerXMediaUploadHandler3();return (w)?w:s;};v.$ComposerXMediaUploadHandler2=function(w,x){"use strict";g.inform('ComposerXFilesStore/filesAdded/'+w+'/mediaupload',{fileInput:x,receivedBySubscriber:false},g.BEHAVIOR_PERSISTENT);};v.setupFileUploadToComposerDialog=function(w,x,y){"use strict";var z='composerxmediauploadhandler'+u++,aa=function(da){k.conditionClass(w.getControl(),y,da);w.getInput().disabled=da;},ba=new n(x),ca=ba.getQueryData();ca.client_ref=z;ba.setQueryData(ca);x=ba.toString();w.subscribe('change',function(){new h().setURI(x).setErrorHandler(function(){w.clear();aa(false);}).send();aa(true);});g.subscribe('composer/dialog/'+z+'/new',function(da,ea){this.$ComposerXMediaUploadHandler2(ea.composerID,w);var fa=new m();fa.addSubscriptions(g.subscribe('composer/publish',function(event,ga){if(ea.composerID===ga.composer_id)a.location.reload();}),ea.dialog.subscribe('hide',function(){fa.release();w.clear();aa(false);}));}.bind(this));};e.exports=v;},null);
__d("ComposerXDragDrop",["Arbiter","ClipboardPhotoUploader","ComposerXAjaxEndpoint","ComposerXController","ComposerXDragDropUtils","ComposerXMediaUploadHandler","DragDropTarget","ErrorDialog","Event","Promise","PUWMethods","URI","fbt","isAnimatedGif"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=i.MEDIA_UPLOAD,v=i.VIDEO_UPLOAD,w='/ajax/composerx/attachment/link/scraper/',x=function(z){z();};function y(z,aa,ba,ca){"use strict";this._root=z;this._composerID=aa;this._targetID=ba;ca=ca||x;this._activatePasteHandler();this._dragdrop=new m(z).setOnFilesDropCallback(function(da){ca(this._dropFiles.bind(this,da));}.bind(this)).setFileFilter(k.filterImages).enable();k.handleDragEnterAndLeave(z);g.subscribe('composer/deactivateDragdrop',function(){this.deactivate();}.bind(this));g.subscribe('composer/reactivateDragdrop',function(){this.reactivate();}.bind(this));}y.prototype.enableURLDropping=function(){"use strict";this._dragdrop.setOnURLDropCallback(this._onURLDrop.bind(this));};y.prototype.deactivate=function(){"use strict";this._dragdrop.disable();this._deactivatePasteHandler();};y.prototype.reactivate=function(){"use strict";this._activatePasteHandler();this._dragdrop.enable();};y.prototype._activatePasteHandler=function(){"use strict";if(this._pasteHandler)return;this._pasteHandler=o.listen(this._root,'paste',function(event){var z=h.getImages(event);if(!z.length)return;this._uploadFiles(z,q.COPYPASTE);}.bind(this));};y.prototype._deactivatePasteHandler=function(){"use strict";if(!this._pasteHandler)return;this._pasteHandler.remove();delete this._pasteHandler;};y.prototype._uploadFiles=function(z,aa,ba){"use strict";if(ba){j.getAttachment(this._root,v);g.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/videoupload',{files:z},g.BEHAVIOR_PERSISTENT);}else{j.getAttachment(this._root,u);g.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/mediaupload',{files:z,method:aa},g.BEHAVIOR_PERSISTENT);}};y.prototype._dropFiles=function(z){"use strict";var aa=z.map(function(ba){return new p(function(ca){if(ba.type==='image/gif'&&l.canUploadAnimatedGIF()){ca(t(ba));}else if(ba.type.match('video/*')){ca(true);}else ca(false);});});p.all(aa).then(function(ba){if(this.validateMediaTypes(ba))this._uploadFiles(z,q.DRAGDROP,ba[0]);}.bind(this));};y.prototype._onURLDrop=function(z){"use strict";var aa=new r(w);aa.addQueryData({scrape_url:encodeURIComponent(z)});j.getAttachment(this._root,aa.toString());};y.prototype.validateMediaTypes=function(z){"use strict";if(z.length>1){var aa=false,ba=false;for(var ca=0;ca<z.length;ca++)if(z[ca]){aa=true;}else ba=true;if(aa&&ba){n.show(s._("Can't upload both videos and images"),s._("Please select either one video or one or more images."));return false;}}return true;};e.exports=y;},null);
__d("PagesComposerEntryLogger",["Event","PagesEventObserver"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$PagesComposerEntryLogger0=j;}i.prototype.registerForContentEntryEvents=function(j){"use strict";var k=function(){var l={page_id:this.$PagesComposerEntryLogger0,event_name:'composer_content_entry',pages_composer:1,target_id:this.$PagesComposerEntryLogger0};h.logData_DEPRECATED(l,h.VITAL_WAIT);this.unregister();};this.$PagesComposerEntryLogger1=g.listen(j,{paste:k.bind(this),keydown:k.bind(this)});};i.prototype.unregister=function(){"use strict";if(!this.$PagesComposerEntryLogger1)return;for(var event in this.$PagesComposerEntryLogger1)this.$PagesComposerEntryLogger1[event].remove();this.$PagesComposerEntryLogger1=null;};e.exports=i;},null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/privacy\/reminders\/log_imp\/",{type:{type:"String",required:true}});},null);
__d("ComposerXBootloadStatusAttachment",["requireWeak","Arbiter","AsyncRequest","BanzaiLogger","Bootloader","ComposerXAttachment","ComposerXAttachmentButtonBarState","ComposerXAttachmentPrefillMixin","ComposerXAttachmentUtils","ComposerXAttachmentWithPreviews","ComposerXController","ComposerXDragDrop","ComposerXDragDropUtils","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","DOMQuery","Event","Focus","ForceFetchAfterLongInactiveQE","NoNewerStoryInsertionWhileComposingGK","PageTransitions","PagesComposerEntryLogger","Parent","FocusListener","PrivacyConst","PrivacyRemindersLoggingTypes","ProductionPromptConfig","SelectorDeprecated","SubscriptionsHandler","SuggestionConfig","SuggestionUIPresentation","URI","XUIError","$","classWithMixins","createCancelableFunction","csx","cx","fbt","getActiveElement","mixin","requestAnimationFrame","XPrivacyRemindersDismissController","XPrivacyRemindersImpressionLoggingController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za){b.__markCompiled&&b.__markCompiled();var ab;g('LitestandStoryInsertionStatus',function(hb){ab=hb;});var bb={only_me:{PRIVACY_CONSTANT:[ga.BaseValue.SELF],LOG_IMPRESSION:ha.ONLY_ME_IMPRESSION,LOG_CONVERSION:ha.ONLY_ME_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone:{PRIVACY_CONSTANT:[ga.BaseValue.EVERYONE],LOG_IMPRESSION:ha.EVERYONE_IMPRESSION,LOG_CONVERSION:ha.EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},delta_everyone:{PRIVACY_CONSTANT:[ga.BaseValue.EVERYONE],LOG_IMPRESSION:ha.DELTA_EVERYONE_IMPRESSION,LOG_CONVERSION:ha.DELTA_EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone_tests:{PRIVACY_CONSTANT:[ga.BaseValue.EVERYONE],LOG_IMPRESSION:ha.EVERYONE_TESTS_IMPRESSION,LOG_CONVERSION:ha.EVERYONE_TESTS_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},public_posting_filter_nux:{PRIVACY_CONSTANT:[ga.BaseValue.EVERYONE],LOG_IMPRESSION:ha.PUBLIC_POSTING_FILTER_NUX_IMPRESSION,LOG_CONVERSION:ha.PUBLIC_POSTING_FILTER_NUX_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true}},cb={},db=qa(l,wa(n,p));for(var eb in db)if(db.hasOwnProperty(eb))gb[eb]=db[eb];var fb=db===null?null:db.prototype;gb.prototype=Object.create(fb);gb.prototype.constructor=gb;gb.__superConstructor__=db;function gb(hb,ib){"use strict";db.call(this);this._root=hb;this._config=ib;this._privacyReminders={};this._onSelectorChange=this._onSelectorChange.bind(this);if(ab&&ba.no_insertion_while_composing)if(aa.forceRefresh){ab.registerBlocker(function(){return this._isEditing();}.bind(this));}else ab.registerBlocker(function(){return this._isFocused();}.bind(this));}gb.prototype.getRoot=function(){"use strict";return this._root;};gb.prototype.getPrivacyInstance=function(){"use strict";return this._newPrivacyWidgetInstance;};gb.prototype._getTextArea=function(){"use strict";return x.find(this.getComponent('maininput').element,'textarea.input');};gb.prototype.initWithComponents=function(hb){"use strict";cb[this._composerID]=this;this._attachmentIsActive=true;var ib=this._getTextArea(),jb=x.scry(ea.byClass(this.getRoot(),"_119"),'li.'+this.attachmentClassName)[0];this._focusListener=y.listen(ib,'focus',this._onFocus.bind(this,'area_focus'));if(this._config.prefill_text)this._initPrefill(ib,this._config.prefill_text);if(hb&&this._config.targetIsPage){this._pagesComposerEntryLogger=new da(this._config.targetID);this._pagesComposerEntryLogger.registerForContentEntryEvents(ib);}if(this._fullVersion){this._fullInitWithComponents();}else if(!this._bootloading)if(this._isFocused()){this._onFocus('is_focused');}else if(jb)this._clickListener=y.listen(jb,'click',function(){z.set(ib);}.bind(this));this._dragEnterHandler=h.subscribe('dragenter',function(kb,lb){if(lb.element==this._root){h.inform('composerprivacy/aborteducation');var mb=lb.event.dataTransfer.items,nb;if(mb)nb=s.filterImages(mb);if(nb&&nb.length>0){z.set(ib);}else{var ob=ea.byClass(this._root,'focus_target');fa.expandInput(ob);this._onFocus('drag_focus');}}}.bind(this));this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(!hb)z.set(ib);if(this._config.plus_version){this._dragdrop=new r(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}this._initPrivacyWidgetInstance();if(this._config.postActionsButton!=null)this._config.postActionsButton.initHiddenInputs(this.getComponent('pabhiddeninputs').instance);if(this._config.previewButton)this.initPreviewButton(this._root,this._config.previewButton);ca.registerHandler(this.cleanup.bind(this));};gb.prototype._initPrivacyWidgetInstance=function(){"use strict";var hb=this.getComponent('mainprivacywidget');if(!hb)return;this._privacyWidgetElement=hb.element;this._newPrivacyWidgetInstance=hb.instance&&hb.instance.getInstance().getInstance();if(this._newPrivacyWidgetInstance){var ib=this.getComponent('maininput').instance&&this.getComponent('maininput').instance.getMentions(),jb=this.getComponent('tagExpansionButton');(jb&&jb.instance)&&jb.instance.listenToPrivacy(this._newPrivacyWidgetInstance,ib);}};gb.prototype._fullInitWithComponents=function(hb){"use strict";this._bootloadCallback=ra(this._bootloadModules.bind(this));if(hb&&hb.show_tag_expansion_reminder){k.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI","ComposerTagReminder"],this._bootloadCallback);}else k.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI"],this._bootloadCallback);Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);if(this._setEveryonePrivacyImpression)this._showPrivacyReminder('everyone');if(this._privacyReminders.delta_everyone&&this._privacyReminders.delta_everyone.dialog){var ib=this._privacyReminders.delta_everyone.dialog.getContent();if(ib){var jb=x.scry(ib,'.photoText')[0],kb=x.scry(ib,'.postText')[0];h.subscribe('multi-upload/images-added',function(){jb&&v.show(jb);kb&&v.hide(kb);}.bind(this));h.subscribe('multi-upload/all-images-removed',function(){jb&&v.hide(jb);kb&&v.show(kb);}.bind(this));}}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.subscribe('changed',this._onSelectorChange);}else ja.subscribe('select',this._onSelectorChange);};gb.prototype._bootloadModules=function(hb,ib,jb,kb,lb){"use strict";this._modulesAreBootloaded=true;this._tagger.init(this);this._privacyWidgetTags=new hb(this);if(lb){this._tagExpansionReminder=new lb(this);this._tagExpansionReminder.listen();}m.trackCityChanges(this);var mb=x.find(this.getComponent('maininput').element,'textarea.input');if(!this._scraper){this._scraper=new ib(mb);this._scraper.subscribe('match',function(qb,rb){var sb=this._getScraperEndpoint();sb.addQueryData({scrape_url:encodeURIComponent(rb.url),remove_url:this._config.remove_url,attachment_class:this._config.classname});q.getAttachment(this._root,sb.toString());}.bind(this));}this._scraper.enable();this._scraper.check();var nb=w.scry(this._root,"._4-jj"),ob=this.getComposerID();if(this._config.stream_context==='home'&&nb&&nb.length&&this._tagger&&ob){if(!this._suggestionScraper){this._suggestionScraper=new jb(this._tagger,nb[0],[ma.SEMI_INLINE,ma.TAGGER_BADGE,ma.TOP_OF_VERBS],ob);this._suggestionScraper.setBootloadTriggerConfig(la.COMPOSER_ENTRY_BOOTSTRAP);}if(ia.gk){var pb=w.scry(this._root,'#bootloadSemiinlineRoot')[0];if(pb)v.hide(pb);}}};gb.prototype._showPrivacyReminder=function(hb){"use strict";var ib=this,jb=this._privacyReminders[hb],kb=bb[hb],lb=null;if(this._newPrivacyWidgetInstance){lb=this._newPrivacyWidgetInstance.getSelectedBaseValue();}else lb=parseInt(ja.getValue(this._privacyWidgetElement),10);if(!jb||!jb.dialog||jb.shown){if(lb===ga.BaseValue.EVERYONE&&this._setEveryonePrivacyImpression){this._sendSetEveryonePrivacyImpression();this._setEveryonePrivacyImpression=false;}return;}if(kb.PRIVACY_CONSTANT.indexOf(lb)===-1)return;jb.dialog.setContext(this._privacyWidgetElement).show();jb.shown=true;this._privacyReminderShown=true;if(kb.LOG_IMPRESSION){var mb=(za.getURIBuilder()).setString('type',kb.LOG_IMPRESSION).getURI();new i(mb).send();}if(kb.LOG_IMPRESSION_TO_DISMISS_ENDPOINT)if(hb==='delta_everyone'||hb==='only_me'){var nb=(ya.getURIBuilder()).setString('type',hb).getURI();new i(nb).send();}else new i('/ajax/privacy/reminders/dismiss').setData({type:hb,dismiss_type:'impression'}).send();var ob=function(event){var pb=v.hasClass(event.target,'layerConfirm')||x.scry(event.target,'^.layerConfirm').length===1,qb=v.hasClass(event.target,'layerButton')||x.scry(event.target,'^.layerButton').length===1;if(pb&&hb!=='public_posting_filter_nux'){if(hb==='delta_everyone'||hb==='only_me'){var rb=(za.getURIBuilder()).setString('type',ha.DELTA_EVERYONE_OK_BUTTON_CLICKED).getURI();new i(rb).send();}return;}if(hb==='delta_everyone'||hb==='only_me'){var sb=(ya.getURIBuilder()).setString('type',hb).getURI();new i(sb).send();}else new i('/ajax/privacy/reminders/dismiss').setData({type:hb,hide:qb}).send();jb.events.forEach(function(ub){ub.remove();});jb.events=[];jb.dialog.hide();this._privacyReminderShown=false;if(qb){xa(function(){if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.openSelector();}else ja.toggle(x.scry(ib.getComponent('mainprivacywidget').element,'.uiSelector')[0]);}.bind(this));if(hb==='delta_everyone'){var tb=(za.getURIBuilder()).setString('type',ha.DELTA_EVERYONE_CHANGE_BUTTON_CLICKED).getURI();new i(tb).send();}}}.bind(this);if(this._newPrivacyWidgetInstance){jb.conversionListener=this._newPrivacyWidgetInstance.subscribe('changed',function(pb,qb){var rb=this._newPrivacyWidgetInstance.getSelectedBaseValue();this._logPrivacyReminderConversion(jb,kb,rb);}.bind(this));}else jb.conversionListener=ja.subscribe('select',function(pb,qb){if(qb.selector==this._privacyWidgetElement.firstChild){var rb=parseInt(ja.getValue(qb.option),10);this._logPrivacyReminderConversion(jb,kb,rb);}}.bind(this));jb.events=[y.listen(jb.dialog.getContent(),'click',ob),y.listen(jb.dialog.getContext(),'click',ob)];};gb.prototype._logPrivacyReminderConversion=function(hb,ib,jb){"use strict";if(ib.PRIVACY_CONSTANT.indexOf(jb)===-1){if(ib.LOG_CONVERSION){var kb=(za.getURIBuilder()).setString('type',ib.LOG_CONVERSION).getURI();new i(kb).send();}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(hb.conversionListener);}else ja.unsubscribe(hb.conversionListener);hb.conversionListener=null;}};gb.prototype._onSelectorChange=function(hb,ib){"use strict";if(!this.getComponent('mainprivacywidget'))return;if(this._newPrivacyWidgetInstance||(ib.selector===this._privacyWidgetElement.firstChild))setTimeout(function(){Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);}.bind(this));if(this._tagExpansionReminder)this._tagExpansionReminder.updateReminderText(ib.post_param);};gb.prototype.cleanup=function(){"use strict";this._attachmentIsActive=false;if(this._focusListener){this._focusListener.remove();this._focusListener=null;}if(this._clickListener){this._clickListener.remove();this._clickListener=null;}Object.keys(bb).forEach(function(hb){var ib=this._privacyReminders[hb];if(ib&&ib.dialog&&ib.shown){ib.dialog.hide();ib.events.forEach(function(jb){jb.remove();});ib.events=[];if(ib.conversionListener)if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(ib.conversionListener);}else ja.unsubscribe(ib.conversionListener);ib.conversionListener=null;}}.bind(this));if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}if(this._modulesAreBootloaded){this._tagger.cleanup();if(this._privacyWidgetTags){this._privacyWidgetTags.destroy();this._privacyWidgetTags=null;}this._scraper.disable();}if(this._bootloadCallback){this._bootloadCallback.cancel();this._bootloadCallback=null;}if(this._dragEnterHandler){this._dragEnterHandler.unsubscribe();this._dragEnterHandler=null;}if(this._pagesComposerEntryLogger)this._pagesComposerEntryLogger.unregister();};gb.prototype.reset=function(){"use strict";var hb=ea.byClass(this._root,"child_was_focused");if(hb)v.removeClass(hb,"child_was_focused");if(this._tagger)this._tagger.reset();if(this._scraper)this._scraper.reset();if(this._newPrivacyWidgetInstance)this._newPrivacyWidgetInstance.informTagsChanged([]);this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(this._config.prefill_text)this._resetPrefill();if(ia.gk)this._config.mentionsPlaceholder=ua._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);};gb.prototype.canSwitchAway=function(){"use strict";return !ea.byClass(this._root,'async_saving');};gb.prototype.bootloadAttachments=function(){"use strict";if(this._bootloading)return;this._bootloading=true;q.getEndpoint(this._root,'/ajax/composerx/attachment/status/bootload/',true);};gb.prototype.setBootloadedContent=function(hb){"use strict";this._bootloading=false;this._setEveryonePrivacyImpression=!!hb.set_everyone_privacy_impression;Object.keys(bb).forEach(function(lb){var mb=hb[lb+'_privacy_reminder'];if(mb)this._privacyReminders[lb]={dialog:mb};}.bind(this));if(hb.markup.privacy_widget){var ib=x.find(this._root,"._etn");w.setContent(ib,hb.markup.privacy_widget);var jb=x.find(this._root,"._1dwm");if(jb){jb.disabled=false;v.removeClass(jb,"_42fr");}}var kb=hb.placeholders.map(function(lb){return lb.component_name;});u.waitForComponents(this._composerID,kb,function(){var lb=x.find(this._root,"._3-6"),mb=x.find(this._root,"._3-7");w.setContent(lb,hb.markup.tagger_content);w.setContent(mb,hb.markup.tagger_icons);if(hb.markup.privacy_widget)this._initPrivacyWidgetInstance();q.addPlaceholders(this._root,this,hb.placeholders);this._tagger=hb.tagger;m.updateMessageBoxBarState(this);this._fullVersion=true;if(this._attachmentIsActive)this._fullInitWithComponents(hb);o.registerMentionsForComposerCancel(this.getComponent('maininput'),this.getComposerID());}.bind(this));};gb.prototype._getScraperEndpoint=function(){"use strict";return new na('/ajax/composerx/attachment/link/scraper/');};gb.prototype._isFocused=function(){"use strict";return x.contains(this._root,va());};gb.prototype._isEditing=function(){"use strict";return this._isFocused()||this.getComponent('maininput').instance.hasChanges();};gb.prototype._onFocus=function(hb){"use strict";t.logEntry(this._composerID);var ib=w.scry(this._root,"._180_")[0];if(ia.gk&&this._config.stream_context==='home'&&ib){v.hide(pa('bootloadComposerPromptPlaceholder'));v.hide(pa('bootloadComposerPromptIcon'));var jb=pa('mentionsInput');w.find(jb,'textarea.mentionsTextarea').placeholder=ua._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);}this._config&&j.log('WebComposerSampledWaterfallLoggerConfig',{event:'js_composer_focus',client_time:Date.now(),config:{targetID:this._config.targetID,stream_context:this._config.stream_context},composerID:this._composerID,source:hb});this._prefillOnFocus();if(this._fullVersion||this._bootloading)return;h.inform('composer/focus',this._composerID);h.inform('composer/render_pab_nux');this.bootloadAttachments();};gb.prototype.allowOGTagPreview=function(){"use strict";return true;};gb.prototype._sendSetEveryonePrivacyImpression=function(){"use strict";new i('/ajax/privacy/reminders/set_everyone_privacy_impression').send();};gb.prototype.onEmptyStatusCallback=function(){"use strict";var hb=this._getTextArea();z.set(hb);oa.set({target:hb,message:ua._("This status update appears to be blank. Please write something or attach a link or photo to update your status."),position:'below',alignh:'left'});new ka().addSubscriptions(y.listen(this.getRoot(),'success',function(){oa.clear(this._getTextArea());}.bind(this)),h.subscribe('composer/publish',function(event,ib){if(ib.composer_id!=this.getComposerID())return;oa.clear(this._getTextArea());}.bind(this)));};gb.setBootloadedContent=function(hb,ib){"use strict";var jb=cb[hb];if(jb)jb.setBootloadedContent.call(jb,ib);};gb.onEmptyStatusListener=function(hb){"use strict";var ib=cb[hb];if(ib)ib.onEmptyStatusCallback.call(ib);};Object.assign(gb.prototype,{_attachmentIsActive:false,_bootloading:false,_modulesAreBootloaded:false,_fullVersion:false,_focusListener:null,_privacyWidgetTags:null,_scraper:null,_dragdrop:null,_bootloadCallback:null,attachmentClassName:"_4j"});e.exports=gb;},null);
__d("ComposerXMentionsInputReset",["DOMQuery","Input"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){var k=g.scry(j.element,'textarea.input')[0];j.instance.reset();h.reset(k);}e.exports=i;},null);
__d("ComposerXOGTaggerIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){g.removeClass(j.element,"_4-jh");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("ComposerXPrivacyWidgetReset",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){g.inform('Composer/changedtags',{withTags:[],mention:{},eventTag:false});}e.exports=h;},null);
__d("ComposerXTaggerIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){g.removeClass(j.element,"_1dsa");g.removeClass(j.element,"_1dsb");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("PhotosUploadID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=1024,h={getNewID:function(){return (g++).toString();}};e.exports=h;},null);
__d("legacy:AudienceSelector",["AudienceSelector"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();b('AudienceSelector');},3);
__d("XFamilyMentionsNUXDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/family_mentions\/nux_dialog\/",{__asyncDialog:{type:"Int"}});},null);
__d("FamilyRelationshipMentions",["AsyncDialog","AsyncRequest","FamilyMentionsData","XFamilyMentionsNUXDialogController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=(function(){var l={},m=false;l.shouldShowNUX=function(n){if(i.hasAcceptedNUX||m)return false;var o=n.family_names;if(o==(void 0))return false;for(var p=0;p<o.length;p++)if(o[p]==n.text)return true;return false;};l.showNUX=function(n,o){var p=j.getURIBuilder().getURI();g.send(new h(p),function(q){q.subscribe('cancel',function(){n.text=n.default_name;new h().setURI('/ajax/family_mentions/deny_nux').send();o(n);});q.subscribe('confirm',function(){m=true;new h().setURI('/ajax/family_mentions/confirm_nux').send();o(n);q.finishHide();});});};return l;})();e.exports=k;},null);
__d("MentionsTypeaheadAreaView",["ContextualTypeaheadView","FamilyRelationshipMentions","Parent"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(){"use strict";if(g!==null)g.apply(this,arguments);}l.prototype.getContext=function(){"use strict";return i.byClass(this.element,'uiMentionsInput');};l.prototype.shouldValidateTypeaheadSelection=function(m){"use strict";return h.shouldShowNUX(m);};l.prototype.validateTypeaheadSelection=function(m,n){"use strict";h.showNUX(m,n);};e.exports=l;},null);